<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Users - IBM Salesforce Context Telemetry</title>
	<link rel="icon" type="image/svg+xml" sizes="any" href="/resources/favicon.svg">
	<link rel="icon" type="image/png" sizes="32x32" href="/resources/favicon.png">

	<!-- Preload local Inter variable font and main stylesheet without blocking render -->
	<link rel="preload" href="/fonts/inter-variable.woff2" as="font" type="font/woff2" crossorigin>
	<link rel="preload" href="/css/output.css" as="style">
	<link rel="stylesheet" href="/css/output.css">

	<!-- Load FontAwesome asynchronously to prevent render blocking -->
	<link rel="preload" href="/vendor/fontawesome/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
	<noscript><link rel="stylesheet" href="/vendor/fontawesome/css/all.min.css"></noscript>
	<link rel="preload" href="/vendor/fontawesome/css/v4-shims.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
	<noscript><link rel="stylesheet" href="/vendor/fontawesome/css/v4-shims.min.css"></noscript>
	<script src="/js/polyfills.js" defer></script>
	<script src="https://cdn.jsdelivr.net/npm/@tailwindplus/elements@1" type="module" defer></script>
	<script>
		// Apply theme immediately before page render to prevent flash
		(function () {
			const savedTheme = localStorage.getItem('theme');
			const systemTheme = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
			const theme = savedTheme || systemTheme;
			if (theme === 'dark') {
				document.documentElement.classList.add('dark');
			}
		})();
	</script>
</head>

<body class="users-page">
	<div class="container main-container">
		<div id="global-header-placeholder"></div>
		<script src="/js/header.js"></script>
		<script>
			// Initialize header for people page
			initGlobalHeader();
		</script>
		<div class="container-content">
			<div class="users-header" style="display: flex; align-items: flex-end; justify-content: space-between; gap: 16px;">
				<div class="users-breadcrumbs" style="display: flex; flex-direction: column; gap: 6px;">
					<div style="display: flex; align-items: center; gap: 12px;">
						<a href="/" class="back-link subtitle" data-soft-nav="true">‚Üê Back to Dashboard</a>
					</div>
					<div class="log-viewer-title font-semibold">People</div>
				</div>
				<div style="display: flex; justify-content: flex-end;">
					<button type="button" onclick="showCreatePersonModal()" class="btn">
						<svg viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="size-5">
							<path d="M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5z" />
						</svg>
						New person
					</button>
				</div>
			</div>
			<div id="peopleContent" class="mt-6">
				<ul role="list" class="divide-y divide-gray-100" id="peopleList">
					<li class="py-4 text-center text-gray-500">
						<p>Loading people...</p>
					</li>
				</ul>
			</div>
		</div>
	</div>

	<!-- Create Person Modal -->
	<div id="createPersonModal" class="modal-backdrop" style="display: none;">
		<div class="modal-content">
			<div class="modal-header">
				<h3 class="modal-title">Add New Person</h3>
				<button type="button" onclick="closeCreatePersonModal()" class="modal-close-btn">
					<svg viewBox="0 0 20 20" fill="currentColor" class="size-5">
						<path d="M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z" />
					</svg>
				</button>
			</div>
			<form onsubmit="handleCreatePerson(event)" class="modal-body">
				<div class="form-group">
					<label for="personName" class="form-label">Name *</label>
					<input type="text" id="personName" name="name" class="form-input" required autocomplete="off">
				</div>
				<div class="form-group">
					<label for="personEmail" class="form-label">Email (optional)</label>
					<input type="email" id="personEmail" name="email" class="form-input" autocomplete="off">
				</div>
				<div class="modal-footer">
					<button type="button" onclick="closeCreatePersonModal()" class="btn-secondary">Cancel</button>
					<button type="submit" class="btn">Create Person</button>
				</div>
			</form>
		</div>
	</div>

	<script src="/js/navigation.js" defer></script>
	<script src="/js/user-menu.js" defer></script>
	<script src="/js/csrf-helper.js" defer></script>
	<script src="/js/notifications.js" type="module" defer></script>
	<script type="module" src="/js/people.js" defer></script>
</body>

</html>